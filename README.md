
TODO
Общее:
Проверить TODOs
Проверить, что env vars вынесенные в файлы .env действительно используются в нескольких местах



синглтоны защищённые мьютексами

Нарисовать архитектуру
Схему DB погуглить инстурменты для рисования
State machine
Multithreading arch
см тетрадь


docker скрипты был баг с изменением конфига pg_hba. Нужно добавить строчку с postgres. Перезапустить бота.
docker compose внимательно прочитать документацию
sudo -E передача всех env vars
Рефакторинг скриптов. Сделать от root, чтобы в докере и на хосте было одинаково. не делить permissions на каждый файл, сделать общие key_permissions, crtpermissions. Абстрагирова общие функции. Абстрагировать скрипт подиси сертификатов. ПОфиксить скрипты проверки соединения. Если я проверяю соединение к БД внутри контейнера, то я могу это сделать только изнгутри контейнера, потому что на хосте предполагается, что нету psql.
database connection pool hikari
приложение ждёт пока получится соединение с БД. Если не получается, то выход.
docker compose приложение запускается только после успешного health check базы данных, т.е. проверки соединения на уровне docker compose.
docker/docker compose secrets. java keystore
docker база данных. скрипты чтобы не один раз запускались, а каждый раз при создании контейнера
как сделать бэкап базы данных. протестировать в контейнере.
пересоздать git-репозиторий
readme. инструкция по заполнению env vars
юнит тесты
сравнить md5 прошивки внутри контейнера и на хосте
добавить команду /about, которая будет показывать git version, автора
макс время жирным шрифтом, emoji
README 